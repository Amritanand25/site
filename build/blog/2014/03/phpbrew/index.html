<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      
        Version Management with PHPBrew
      
       - Codio
    </title>

    
      <meta name="description" content="Version Management with PHPBrew. Codio&#39;s PHP5 Box Part installs a recent version of PHP5 by default. However, if you require version management for PHP, why not use PHPBrew. This post explains how to get it up and running on y...">
    

    
      <meta name="keywords" content="Guides" />
    

    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/s/apple-touch-icon-152x152-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/s/apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/s/apple-touch-icon-114x114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/s/apple-touch-icon-72x72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="/s/apple-touch-icon-precomposed.png" />
    <link rel="shortcut icon" href="/s/favicon.png" />
    <link rel="icon" type="image/ico" href="/s/favicon.ico" />

    <link href="/s/css/normalize-ec2a8901.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/s/css/boilerplate-4c8f7a1f.css" media="screen" rel="stylesheet" type="text/css" />

    

    <link href="https://codio.com/s/blog/feed.xml" rel="alternate" title="Code and Unload - While we code we often have lots of ideas brewing around. Ideas we'd like to unload onto you" type="application/atom+xml"/>
  </head>
  <body class="blog" data-spy="scroll" data-target="aside">
    <a id="top"></a>

    <div class="wrap">

      <nav>
  <div class="container">

    <nav class="clearfix">
      <a data-no-turbolink="true" href="/"><img width="150" src="/s/img/logo-beta-a3a0a36b.png" /></a>

      <ul id="site-nav">
        <li><a data-no-turbolink="true" href="/s/features">Features</a></li>
        <li><a data-no-turbolink="true" href="/s/pricing">Pricing</a></li>
        <li><a data-no-turbolink="true" href="/s/docs">Docs</a></li>
        <li><a data-no-turbolink="true" href="/s/blog">Blog</a></li>
        <li><a target="_blank" data-no-turbolink="true" href="http://forum.codio.com">Forum</a></li>
      </ul>

      <ul class="codio-nav" id="signedout-nav">
        <li><a href="/p/signup" data-no-turbolink="1">Try Now</a></li>
        <li><a href="/p/login" data-no-turbolink="1">Sign In</a></li>
        <li><a href="/p/signup" data-no-turbolink="1">Sign Up</a></li>
      </ul>

      <ul class="codio-nav" id="signedin-nav">
        <li><a id="userlink" href="/" data-no-turbolink="1"></a></li>
        <li>
          <a id="gravatar" href="/" data-no-turbolink="1">
            <img src="" width="32" height="32" alt="">
          </a>
        </li>
      </ul>
    </nav>
    
    <a data-no-turbolink="true" id="hiring-nav" href="/s/blog/2014/03/hiring-more-javascript-engineers/"><img width="113" src="/s/img/hiring-70f0d860.gif" /></a>

  </div>
</nav>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-39233819-4', 'codio.com');
    ga('send', 'pageview');
  </script>

  <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',(typeof intercomSettings === 'undefined' ? {} : intercomSettings));}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://static.intercomcdn.com/intercom.v1.js';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}};})()</script>


      
        
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>

  <div id="blog-categories">
    <div class="container">
      <ul>
        <li><a href="/s/blog/all">All posts</a></li>
        
          <li><a href="/s/blog/tags/changelog/">Changelog</a></li>
        
          <li><a href="/s/blog/tags/engineering/">Engineering</a></li>
        
          <li><a href="/s/blog/tags/from-the-front-line/">From the Front Line</a></li>
        
          <li class="active"><a href="/s/blog/tags/guides/">Guides</a></li>
        
          <li><a href="/s/blog/tags/watercooler/">Watercooler</a></li>
        
      </ul>
    </div>
  </div>


  <div class="container clearfix">

    <section class="posts">

      

        
        

        <article>
          <section class="meta">
            <p class="date">
              <a class="home" href="/s/blog">&laquo;</a>
              <a href="/s/blog/2014/03/phpbrew/">March 10, 2014</a>
              
                <span class="author">by <a href="mailto:fmay@codio.com">Freddy May</a></span>
              
            </p>
          </section>

          <h1>Version Management with PHPBrew</h1>

          
            <img alt="Version Management with PHPBrew" align="left" class="blog-img" src="/s/img/blog/php-logo-f3ae98d5.png" />
          

          <p>Codio&#39;s PHP5 Box Part installs a recent version of PHP5 by default. However, if you require version management for PHP, why not use PHPBrew. This post explains how to get it up and running on your Codio Box.</p>

<p>It assumes you have created a Codio account.</p>

<p>Start by creating a new empty project from the Codio Dashboard. Once you are in the IDE, open up the Terminal (<code>Tools &gt; Terminal</code>).</p>

<h2 id="install-php">Install PHP</h2>

<p>If you have not already done so, install PHP</p>

<pre><code>parts install php5
</code></pre>

<h2 id="download-phpbrew">Download PHPBrew</h2>

<pre><code>mkdir /home/codio/bin
curl https://raw.github.com/c9s/phpbrew/master/phpbrew -o /home/codio/bin/phpbrew
chmod +x /home/codio/bin/phpbrew
</code></pre>

<h2 id="intialize-scripts">Intialize Scripts</h2>

<p>Let&#39;s first add the PATH to <code>~/.bash_profile</code></p>

<pre><code>echo &#39;export PATH=&quot;$HOME/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile
</code></pre>

<p>and reload your <code>.bash_profile</code></p>

<pre><code>. ~/.bash_profile
</code></pre>

<p>Ignore the terminal error <code>-bash: cd: workspace/: No such file or directory</code> if you see it.</p>

<h2 id="initialize-phpbrew">Initialize PHPBrew</h2>

<p>We initialize PHPBrew by entering</p>

<pre><code>phpbrew init
</code></pre>

<p>You should now see a chunk of text starting with</p>

<pre><code>Phpbrew environment is initialized, required directories are

        /home/codio/.phpbrew
</code></pre>

<h2 id="update-your-.bash_profile-file">Update your <code>.bash_profile</code> file</h2>

<pre><code>echo &#39;export PHPBREW_SET_PROMPT=1&#39; &gt;&gt; ~/.bash_profile
</code></pre>

<p>echo &#39;source /home/codio/.phpbrew/bashrc&#39; &gt;&gt; ~/.bash_profile</p>

<h2 id="reload-shell-data">Reload shell data</h2>

<pre><code>. ~/.bash_profile
</code></pre>

<p>... or simply close the Terminal window and open it again.</p>

<h2 id="let&#39;s-get-going">Let&#39;s get going</h2>

<p>Now we can start playing with PHPBrew. To see all PHPBrew commands enter</p>

<pre><code>phpbrew
</code></pre>

<p>Then start Apache</p>

<pre><code>parts start apache2
</code></pre>

<h3 id="create-a-simple-php-file-and-preview-it">Create a simple PHP file and preview it</h3>

<p>Let&#39;s create a very simple PHP file in Codio. Add <code>index.php</code> to the root of your project and then paste in the following</p>

<pre><code>&lt;?php echo phpinfo(); ?&gt;
</code></pre>

<p>From the <a href="/s/docs/ide/inline-preview/">Preview menu</a> (right most menu option) select &quot;Box URL SSL&quot;. You should now see, in a Preview tab inside Codio, the running version of PHP listed along with lots of other bumph.</p>

<p><img alt="phpbrew phpinfo" src="/s/img/docs/phpbrew-phpinfo-5bc99bca.png" /></p>

<h3 id="install-a-different-version-of-php">Install a different version of PHP</h3>

<p>We can list all known versions of PHP by entering</p>

<pre><code>phpbrew known
</code></pre>

<p>You can also try installing versions that are not listed.</p>

<p>To install PHP 5.4.26 with default modules and apache2 support, we enter</p>

<pre><code>phpbrew install 5.4.26 +default +apxs2
</code></pre>

<p>This can take a few minutes, so be patient. Once it&#39;s finished, enter</p>

<pre><code>phpbrew list
</code></pre>

<p>and you should see</p>

<pre><code>    Installed versions:
        * (system)
        php-5.4.26 (/home/codio/.phpbrew/php/php-5.4.26)
</code></pre>

<h2 id="installing-php-modules">Installing PHP modules</h2>

<p>PHPBrew can also install PHP modules. You can list all available modules like this</p>

<pre><code>phpbrew variants
</code></pre>

<p>This also gives instructions on how to install modules.</p>

<h3 id="switch-versions">Switch Versions</h3>

<p>To switch version, enter</p>

<pre><code>phpbrew switch 5.4.26
</code></pre>

<h3 id="remove-parts-php5">Remove parts php5</h3>

<p>We now need to remove the version of PHP installed by Codio Box Parts, as PHPBrew now manages your PHP installation.</p>

<pre><code>parts uninstall php5
</code></pre>

<h3 id="set-new-php-for-apache">Set new PHP for Apache</h3>

<p>You now need to edit <code>~/.parts/etc/apache2/config/php.conf</code>. The best way to do this is enter</p>

<pre><code>nano ~/.parts/etc/apache2/config/php.conf
</code></pre>

<p>You should modify the <code>PHPIniDir</code> line to suit your installed version of PHP Copy the following to the clipboard</p>

<pre><code>PHPIniDir /home/codio/.phpbrew/php/php-5.4.26/etc/php.ini
AddHandler php5-script .php
DirectoryIndex index.php
</code></pre>

<ul>
<li>move the cursor to the bottom and use backspace key to delete everything</li>
<li>paste from the clipboard making sure you end up with the same 3 lines in the exact same format you see above</li>
<li>press ctrl+x (not cmd for Mac users) to save then &#39;Y&#39; to confirm then enter</li>
</ul>

<p>Now we need to restart Apache</p>

<pre><code>parts restart apache2
</code></pre>

<p>Now do another Preview using Box URL SSL from the menu. You should now see you are running the correct version.</p>

<p><img alt="phpbrew phpinfo2" src="/s/img/docs/phpbrew-phpinfo2-17d9bbf9.png" /></p>


          <div class="blog-social clearfix">
            <div class="blog-twitter">
              <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2014/03/phpbrew/" data-via="codiohq" data-size="small" data-count="none" data-text="Version Management with PHPBrew">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div>

            <div class="blog-gplus">
              <!-- Place this tag where you want the +1 button to render. -->
              <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2014/03/phpbrew/"></div>

              <!-- Place this tag after the last +1 button tag. -->
              <script type="text/javascript">
                (function() {
                  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                  po.src = 'https://apis.google.com/js/plusone.js';
                  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                })();
              </script>
            </div>

            <div class="blog-facebook">
              <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2014/03/phpbrew/" data-width="400" data-show-faces="false"></div>
            </div>
          </div>
        </article>

      

      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'codio'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable Javascript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>

    <aside>
      <section class="all-posts">
        <h5><a href="https://codio.com/s/blog/feed.xml" target="_blank"><img size="14x14" src="/s/img/feed-icon-fd8211de.png" />Subscribe</a></h5>
      </section>

      <section class="latest-posts">
        <h4>Latest posts...</h4>
        <ul>
          
            
            <li><a href="/s/blog/2014/03/nodeschool/">Nodeschool Tutorials</a></li>
          
            
            <li><a href="/s/blog/2014/03/hiring-more-javascript-engineers/">We're Hiring More Javascript Engineers</a></li>
          
            
            <li><a href="/s/blog/2014/03/drupal-joomla/">Drupal and Joomla Installation Guides</a></li>
          
            
            
            <li><a href="/s/blog/2014/03/heroku-part/">Deploying to Heroku</a></li>
          
            
            <li><a href="/s/blog/2014/02/codio-boxes-now-available/">Codio Boxes Now Available</a></li>
          
            
            <li><a href="/s/blog/2014/02/codio-boxes-and-docker/">Codio Boxes + Docker</a></li>
          
            
            <li><a href="/s/blog/2014/02/codio-boxes-and-box-parts/">Codio Boxes &amp; Box Parts</a></li>
          
            
            <li><a href="/s/blog/2014/02/easier-uploading/">Easier Uploading</a></li>
          
          <li><strong><a href="/s/blog/all">All posts...</a></strong></li>
        </ul>
      </section>

      <div style="margin:35px 0 0 25px;">
        <a href="https://twitter.com/codiohq" class="twitter-follow-button" data-size="medium" data-show-count="false" data-lang="en">Follow us @codiohq</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      </div>
    </aside>

  </div>


      

    </div>

    <footer>
  <div class="container clearfix">
    <div>
      <ul id="social-icons">
        <li><a target="_blank" href="https://plus.google.com/u/0/b/107423236292333764300/107423236292333764300/posts"><span></span>Google+</a></li>
        <li><a target="_blank" href="https://www.facebook.com/pages/Codio/164778707006897?ref=hl"><span></span>Facebook</a></li>
        <li><a target="_blank" href="https://twitter.com/codiohq"><span></span>Twitter</a></li>
      </ul>
    </div>

    <div>
      Copyright &copy; 2014 Application Craft Ltd.
      &nbsp;&nbsp;
      <a href="http://status.codio.com/" target="_blank">System Status</a>&nbsp;&nbsp;|&nbsp;&nbsp;
      <a href="mailto:support@codio.com">Drop us a line...</a><br>
      All rights reserved. Read our <a href="/s/legal/privacy">Privacy policy</a> and other <a href="/s/legal">Legalese</a>.
    </div>

    <div>
      <a href="http://www.iloveopensource.io/orgs/523c6c7f861be70200000007" target="_blank">
        <img width="90" alt="Codio is powered by Open Source. Click here to find out more..." src="/s/img/ilos-logo-darkbg-6a3ca213.png" />
      </a>
    </div>
  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/vendor/jquery.min-33074654.js"><\/script>')</script>
<script src="/s/js/main-364b929b.js" type="text/javascript"></script>


  </body>
</html>


<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'codio'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script src="/s/js/vendor/rainbow-04950e23.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/linecount-d06678da.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/generic-b357dadf.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/javascript-0bbbe42e.js" type="text/javascript"></script><link href="/s/css/lib/rainbow/github-453e79e9.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/s/css/lib/rainbow/linecount-9a1155c4.css" media="screen" rel="stylesheet" type="text/css" />