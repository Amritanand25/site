<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      
        Codio Blog
      
       - Codio
    </title>

    
      <meta name="description" content="Codio is a powerful cloud and browser based IDE that covers the complete web development cycle; from prototype to deployment">
    

    
      <meta name="keywords" content="mobile application development tools, mobile development platform, mobile application software, app development, app developments, applications, application, apps, tools, tool, platform, platforms, software, softwares, environment, android, html5, html 5, ios, ipad, iphone, desktop, windows, blackberry, smartphone, symbian" />
    

    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/s/apple-touch-icon-152x152-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/s/apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/s/apple-touch-icon-114x114-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/s/apple-touch-icon-72x72-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" href="/s/apple-touch-icon-precomposed.png" />
    <link rel="shortcut icon" href="/s/favicon.png" />
    <link rel="icon" type="image/ico" href="/s/favicon.ico" />

    <link href="/s/css/normalize-ec2a8901.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/s/css/boilerplate-67ba3a5e.css" media="screen" rel="stylesheet" type="text/css" />

    

    <link href="https://codio.com/s/blog/feed.xml" rel="alternate" title="Code and Unload - While we code we often have lots of ideas brewing around. Ideas we'd like to unload onto you" type="application/atom+xml"/>
  </head>
  <body class="blog" data-spy="scroll" data-target="aside">
    <a id="top"></a>

    <div class="wrap">

      <nav>
  <div class="container">

    <nav class="clearfix">
      <a data-no-turbolink="true" href="/"><img width="150" src="/s/img/logo-beta-a3a0a36b.png" /></a>

      <ul id="site-nav">
        <li><a data-no-turbolink="true" href="/s/features">Features</a></li>
        <li><a data-no-turbolink="true" href="/s/pricing">Pricing</a></li>
        <li><a data-no-turbolink="true" href="/s/docs">Docs</a></li>
        <li><a data-no-turbolink="true" href="/s/blog">Blog</a></li>
        <li><a target="_blank" data-no-turbolink="true" href="http://forum.codio.com">Forum</a></li>
      </ul>

      <ul class="codio-nav" id="signedout-nav">
        <li><a href="/p/signup" data-no-turbolink="1">Try Now</a></li>
        <li><a href="/p/login" data-no-turbolink="1">Sign In</a></li>
        <li><a href="/p/signup" data-no-turbolink="1">Sign Up</a></li>
      </ul>

      <ul class="codio-nav" id="signedin-nav">
        <li><a id="userlink" href="/" data-no-turbolink="1"></a></li>
        <li>
          <a id="gravatar" href="/" data-no-turbolink="1">
            <img src="" width="32" height="32" alt="">
          </a>
        </li>
      </ul>
    </nav>

  </div>
</nav>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-39233819-4', 'codio.com');
    ga('send', 'pageview');
  </script>

  <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',(typeof intercomSettings === 'undefined' ? {} : intercomSettings));}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://static.intercomcdn.com/intercom.v1.js';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}};})()</script>


      
        <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id="blog-categories">
  <div class="container">
    <ul>
      <li><a href="/s/blog/all">All posts</a></li>
      
        <li><a href="/s/blog/tags/changelog/">Changelog</a></li>
      
        <li class="active"><a href="/s/blog/tags/engineering/">Engineering</a></li>
      
        <li><a href="/s/blog/tags/from-the-front-line/">From the Front Line</a></li>
      
        <li><a href="/s/blog/tags/guides/">Guides</a></li>
      
        <li><a href="/s/blog/tags/watercooler/">Watercooler</a></li>
      
    </ul>
  </div>
</div>

<div class="container clearfix">

  <section class="posts">
    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2014/02/codio-boxes-and-docker/">February 12, 2014</a>
            
              <span class="author">by <a href="mailto:jmoss@codio.com">Joel Moss</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2014/02/codio-boxes-and-docker/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2014/02/codio-boxes-and-docker/">Codio Boxes + Docker</a></h1>

        
          <img alt="Codio Boxes + Docker" align="left" class="blog-img" src="https://www.docker.io/static/img/homepage-docker-logo.png" />
        
        <p>We&#39;re getting extremely close to publicly releasing Codio Boxes to you all. In this post, I want to explain how Codio Boxes work and how the amazing <a href="https://www.docker.io/">Docker</a> is behind it all.</p>

<p><em>Please note, that Codio Boxes are not yet publicly available, but are in private beta.</em></p>

<h2 id="what&#39;s-a-codio-box?">What&#39;s a Codio Box?</h2>

<p>A Codio Box is created when you create a new project in Codio, and is started every time you open that project. This Box provides a 100% cloud-based, full-stack, server-side development environment. That&#39;s a mouthful, so lets break that down a little.</p>

<p>Each Box is an isolated development environment, running Ubuntu 12.04 and with full terminal access via a secure SSH connection - all right within Codio. Your project&#39;s code is mounted to this Box, which means you can manage your files and folders from the Terminal, or continue using the Codio IDE. So if you create a file from the Terminal, it will immediately show up in the file tree of the IDE, and vice versa.</p>

<p>And because the Box is isolated, you also have access to all the familiarity of your local or remote servers, and can install software, databases, programming languages and almost everything else you can do from any Linux based development machine.</p>

<p>Some examples of what you can do include:</p>

<ul>
<li>Running any <a href="http://nodejs.org/">Node</a> based application</li>
<li>Installing and running <a href="https://wordpress.org/">Wordpress</a></li>
<li>Running <a href="http://gruntjs.com/">Grunt</a> tasks</li>
<li>Installing <a href="http://rubyonrails.org/">Ruby on Rails</a> and running the Rails development server</li>
<li>Creating a <a href="http://www.mongodb.org/">MongoDB</a> or <a href="http://www.mysql.com/">MySQL</a> database</li>
<li>Build and compile <a href="http://golang.org/">Go</a> applications</li>
<li>Run your PHP application via Apache or Nginx</li>
<li>Run a <a href="http://www.rabbitmq.com/">RabbitMQ</a> queue</li>
<li>Run a <a href="https://www.meteor.com/">MeteorJS</a> application</li>
<li>Develop and run code in C, Node, Ruby, Python, PHP, Go, Haskell, Java, Lua, Pascal, Rust, and Scala</li>
<li>Run any and all Git or Mercurial commands</li>
<li><em>Plus loads more...</em></li>
</ul>

<p>The best thing about all this, is that every Codio project will have all this ready and waiting for you to use. You won&#39;t have to choose your stack or the type of Box you want. Just create a Codio project and you have access to it all.</p>

<p><strong>Instant gratification!</strong></p>

<p><img alt="Codio Boxes" src="/s/img/blog/todomvc-3aaf3f9b.png" /></p>

<h2 id="how-is-this-possible?">How is this Possible?</h2>

<p>Most of this is only possible thanks to the amazing <a href="https://www.docker.io/">Docker</a> project.</p>

<blockquote>
<p>Docker is an open-source engine that automates the deployment of any application as a lightweight, portable, self-sufficient container that will run virtually anywhere.</p>
</blockquote>

<p>A Codio Box is simply a Docker container, built from a base image that we put together just for you, and just for Codio. And it&#39;s fast, very, VERY fast! The time it takes to create a new project is a matter of a few seconds. At which point, you can fire up the Terminal from your project and you have an SSH connection to your Box.</p>

<p>In fact, we reckon you won&#39;t notice the time difference between opening a project on Codio right now, and opening a project that has a Box attached to it. Using Docker allows us to provide an almost seamless experience to you, which is as close to your current development environment as we can possibly get, while taking full advantage of developing in the Cloud and the browser.</p>

<p>We can provide all this because we&#39;re being very intelligent about how we use Docker, and when your Boxes are running. Simply put, we only run your Box when you need it, which avoids wasting resources and keeps costs down. The savings of which we can pass straight on to you.</p>

<h2 id="i-wanna&#39;-see!">I wanna&#39; see!</h2>

<p>We&#39;ll be launching Codio Boxes very, very soon, but until then, we&#39;ve created a couple of tiny screencasts to show you how easy and fast Codio Boxes are.</p>

<ul>
<li><a href="https://player.vimeo.com/video/85953159?autoplay=1&amp;amp;hd=1">Running a NodeJS app</a></li>
<li><a href="https://player.vimeo.com/video/85998845?autoplay=1&amp;amp;hd=1">Installing and running Ruby on Rails</a></li>
<li><a href="https://player.vimeo.com/video/86028855?autoplay=1&amp;amp;hd=1">Installing and running Wordpress</a></li>
</ul>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2014/02/codio-boxes-and-docker/" data-via="codiohq" data-size="small" data-count="none" data-text="Codio Boxes + Docker">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2014/02/codio-boxes-and-docker/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2014/02/codio-boxes-and-docker/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2013/11/snr/">November 11, 2013</a>
            
              <span class="author">by <a href="mailto:fziegelmayer@codio.com">Friedel Ziegelmayer</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2013/11/snr/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2013/11/snr/">Search and Replace with SnR</a></h1>

        
        <p>As you might have noticed, today marked the release of <a href="/s/blog/2013/11/search-replace">global search and replace</a> in Codio. It&#39;s built using the tried and tested tools, <a href="http://beyondgrep.com/">ack</a> and perl. While we were building this we realized that it would be great to have a simple command line tool to do both search and replace based on these two tools. So today I present the software that came out of that wish: <a href="https://npmjs.org/package/snr">SnR</a>. We&#39;ve open sourced it and released it as a <a href="https://npmjs.org/package/snr">Node package</a>. The source is publicly available on <a href="https://github.com/codio/snr">Github</a>.</p>

<h2 id="what?">What?</h2>

<p>As already discussed SnR gives you a simple command line interface to search and replace built on top of <a href="http://beyondgrep.com/">ack</a> and perl, and it works like this:</p>

<pre><code class="bash"># Inside your project folder
$ snr --replace &quot;console.log&quot; &quot;console.info&quot; &quot;**/*.js&quot;
</code></pre>

<h2 id="how?">How?</h2>

<p>To get started just make sure you have perl and Node (with NPM) installed, and then run <code>npm install -g snr</code>. That&#39;s it, now you can go and replace all the things.</p>

<p>For simple usage take a look at these examples:</p>

<pre><code class="bash"># Find all occurences of foo inside all python files
$ snr foo &quot;**/*.py&quot;
src/index.js
301-        // catch (e) {
302-        //     //:todo change to correct bar
303:        //     foo(e);
304-        //     //bar(e);
305-        // }
Found 1 match(es) in 1 file(s).
# Replace all occurences of foo with bar inside all python files
$ snr --replace bar foo &quot;**/*.py&quot;
Replaced 1 match(es) in 1 file(s).
</code></pre>

<p>and for more advance usage:</p>

<pre><code class="bash">$ snr --help
usage: snr [OPTION]... PATTERN [FILES OR DIRECTORIES OR GLOBS]
options:
    -i, --ignore-case       Ignore case distinctions in PATTERN.
    -Q, --literal           Quote all metacharacters; PATTERN is literal.
    --max-result-count=NUM  Stop after NUM results.
    --replace=REPlACE       Replace all matches with REPLACE.
    -h, --help              Print this help and exit.
    -v, --version           Print the current version.
    -C NUM, --context=NUM   Print NUM lines of output context.
    -w, --word-regexp       Force PATTERN to match only whole words.
    --color-lineno=COLOR    Set the color for filenames, matches, and line
                            numbers.
</code></pre>

<h2 id="what&#39;s-next?">What&#39;s next?</h2>

<p>There is even more goodness inside. You can use SnR as a module inside your node app as well, just install it and <code>require(&#39;snr&#39;)</code> to get started. More info on that can be found on the <a href="https://github.com/codio/snr">github repo</a>.</p>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2013/11/snr/" data-via="codiohq" data-size="small" data-count="none" data-text="Search and Replace with SnR">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2013/11/snr/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2013/11/snr/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/">September 30, 2013</a>
            
              <span class="author">by <a href="mailto:jmoss@codio.com">Joel Moss</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/">The Latest and Greatest - Why we only Support Modern Browsers</a></h1>

        
          <img alt="The Latest and Greatest - Why we only Support Modern Browsers" align="left" class="blog-img" src="/s/img/blog/browsers-0df3f9dd.jpg" />
        
        <p>So we&#39;ve been getting a few questions about our browser support recently, in particular why it is that we only support the most recent versions of the most popular browsers. So I thought I&#39;d answer that question here.</p>

<p>Basically, it all boils down to two things...</p>

<h2 id="maintainability">Maintainability</h2>

<p>Codio is an extremely complex beast, built up of several individual applications and all needing to live together in perfect harmony. So needless to say, it takes a fair bit of work to maintain, and ensure that everything keeps working as it should.</p>

<p>Also, as you will most likely know, building a web application is an entirely different experience than building server side applications. Most of the time, this experience is great, but the one big thing that sets web development apart is the endless struggle to make your app look and work great in dozens and dozens of browser and OS combinations.</p>

<p>We have to test each browser on every popular operating system, and we have to do this continually. Of course, there are tools and services out there that can help us with this, but it is still very hard and extremely resource intensive. Because of our &quot;Ship It&quot; mantra, we need to move and react fast, and this includes browser testing.</p>

<h2 id="functionality">Functionality</h2>

<p>Codio is an environment designed and built to make your life easier. It includes some pretty unique features, as well as a lot of features that you all expect to see in the the best IDEs and text editors.</p>

<p>Old browsers can severely restrict and constrain what we are able to build. For example, our support for multi-panel layouts wouldn&#39;t be possible without the latest FlexBox features of CSS3.</p>

<p>We simply wouldn&#39;t be able to deliver the best features and the best user experience to you, if we still had to support old browsers. We would only be shipping new features, improvements and bug fixes every couple of weeks, instead of every day, like we do currently.</p>

<p>We believe that you deserve the latest and greatest, so we only support the latest and greatest browsers:</p>

<ul>
<li>Chrome 21 or later</li>
<li>Firefox 22 or later</li>
<li>IE 10 or later</li>
<li>Safari 6 or later</li>
<li>Opera 12 or later</li>
</ul>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/" data-via="codiohq" data-size="small" data-count="none" data-text="The Latest and Greatest - Why we only Support Modern Browsers">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2013/09/improving-performance-tab-switching/">September 27, 2013</a>
            
              <span class="author">by <a href="mailto:fziegelmayer@codio.com">Friedel Ziegelmayer</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2013/09/improving-performance-tab-switching/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2013/09/improving-performance-tab-switching/">Improving Performance - Tab Switching</a></h1>

        
        <p>As you might know we have switched our editor from <a href="http://ace.c9.io">Ace</a> to <a href="http://codemirror.net">CodeMirror</a>. The optimisations that we already had in place are now obsolete. So I&#39;ve started looking at optimising the way we use <a href="http://codemirror.net">CodeMirror</a>.</p>

<h2 id="where-to-optimise?">Where to optimise?</h2>

<p>I started my adventure by importing the complete <a href="http://nodejs.org">Node.js</a> repository into Codio and simply opening, reading and editing different files. I immediately noticed that when I opened multiple large files and switched between those, it would take a fair bit of time. So there I had found my first place to optimise... tab switching.</p>

<h2 id="measure-it">Measure it</h2>

<p>I opened up the dev tools and started profiling.</p>

<p><img src="/s/img/blog/flames-javascript-cpu-profile-running-912fa5f1.png" /></p>

<p>And when I looked at the time it took for switching tabs, I saw that it took a total time of about two seconds to simply switch between two tabs.</p>

<p><img src="/s/img/blog/flames-graph-before-0b9cfa42.png" /></p>

<p>The image above shows the flame chart I recorded for switching. The two seconds can be seen if you look at the vertical axis, while the horizontal axis shows the call stack at a given moment. For more information on flame charts see this <a href="http://www.html5rocks.com/en/tutorials/developertools/revolutions2013/#toc-flame-chart">article</a> on <a href="http://www.html5rocks.com">html5rocks</a>.</p>

<h2 id="find-the-biggest-time-thief">Find the biggest time thief</h2>

<p>Looking at these call stacks I found that the most time-consuming method was <code>CodeMirror.refresh()</code>, which repaints the whole display area of the instance to update all information. But what was more concerning was that a single call was taking so long. I realised that this method was called not only once, but three times.</p>

<h2 id="optimizations:-1st-round">Optimizations: 1st Round</h2>

<p>With my new knowledge I went into the code tracing the stack calls and then eliminating two of the three calls to <code>CodeMirror.refresh</code> when switching from one tab to another. My work did not go unrewarded, I ended up with this new graph resulting in an overall switch time of about 450ms...</p>

<p><img src="/s/img/blog/flames-graph-middle-d618837a.png" /></p>

<h2 id="optimizations:-2nd-round">Optimizations: 2nd Round</h2>

<p>My newly gained speed made me happy, but after looking again into the graph I could still see two call stack spikes which took about the same amount of time, and both ended up re-rendering the CodeMirror instance. So looking a little closely, I could see that the first time was caused by <code>CodeMirror.swapDoc</code> and the second by <code>CodeMirror.refresh</code>. When you look at the source code for these two <a href="https://github.com/marijnh/CodeMirror/blob/master/lib/codemirror.js#L3207">here</a> and <a href="https://github.com/marijnh/CodeMirror/blob/master/lib/codemirror.js#L3199">here</a>, you can see that they both end up calling the same methods, which results in a complete repaint of CodeMirror.</p>

<p>To understand what was happening, I need to explain what happens when you switch a tab. For performance reasons we only keep one CodeMirror instance around and if you switch from one tab to another we call <code>swapDoc</code> to change the document that is being displayed. To accommodate for size changes and highlighting changes, we call <code>refresh</code> at the end of the switching process. But with my knowledge that <code>swapDoc</code> already does everything we need to do, I just moved <code>swapDoc</code> to the end of the process, (of course there were some other problems that this entailed but it was not too bad) and voila, only one repaint of CodeMirror when switching tabs. Which now gave a switch time of just 167ms.</p>

<p><img src="/s/img/blog/flames-graph-after-d6ff0fab.png" /></p>

<h2 id="roundup">Roundup</h2>

<p>As you&#39;ve seen, profiling, measuring and looking at these great data points that the dev tools provide, gives you an easy way to find and track down performance problems. And when you look at this data, it&#39;s immediately clear that it really pays off!</p>

<table><thead>
<tr>
<th></th>
<th><strong>Before</strong></th>
<th><strong>1st Round</strong></th>
<th><strong>2nd Round</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Total Time</strong>&nbsp;&nbsp;&nbsp;</td>
<td>2055ms</td>
<td>450ms</td>
<td>167ms</td>
</tr>
</tbody></table>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2013/09/improving-performance-tab-switching/" data-via="codiohq" data-size="small" data-count="none" data-text="Improving Performance - Tab Switching">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2013/09/improving-performance-tab-switching/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2013/09/improving-performance-tab-switching/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2013/08/the-problem-with-promises/">August  6, 2013</a>
            
              <span class="author">by <a href="mailto:jmoss@codio.com">Joel Moss</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2013/08/the-problem-with-promises/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2013/08/the-problem-with-promises/">The Problem with Promises</a></h1>

        
          <img alt="The Problem with Promises" align="left" class="blog-img" src="/s/img/blog/promises-f90ad5b6.svg" />
        
        <p>We use <a href="http://promisesaplus.com/">Promises</a> as much as possible in our Javascript code, because they save us from callback hell, and produce much more readable and organised code. Simply put, a Promise represents a value that may or may not yet be available.</p>

<p>We use <a href="http://api.jquery.com/category/deferred-object/">jQuery&#39;s Deferred object</a> when working with Promises, which is a slightly loose implementation of the <a href="http://promisesaplus.com/">Promises/A+ spec</a>. It might not be the <a href="http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/">&quot;correct&quot;</a> way, but it works as expected.</p>

<p>We&#39;re doing a little refactoring of the core IDE and decided that the <a href="https://github.com/tildeio/rsvp.js">RSVP</a> Promises library was a more &quot;correct&quot; implementation, and so we started using that in the refactor branch. However, it turns out that RSVP and other Promise libraries that adhere to the spec include a nasty little gotcha that we feel is completely unacceptable when building production applications.</p>

<p>It all boils down to point <a href="http://promisesaplus.com/#point-50">3.2.6.2</a> of the spec:</p>

<blockquote>
<p>If either onFulfilled or onRejected throws an exception, <code>promise2</code> must be rejected with the thrown exception as the reason.</p>
</blockquote>

<p>Usually, when an exception is raised in Javascript, it is reported immediately by the browser as an error, which makes it very easy to act upon and see exactly when and where any issues arise. You can then use an <a href="http://errorception.com">exception tracking service</a> to report on errors as and when they happen, and respond accordingly.</p>

<p>The Promises/A+ spec states that when an exception is raised anywhere within your Promised code, the promise will be rejected. This includes <em>ANY and ALL exceptions</em>, which means the promise will swallow your exceptions - all the time, every time!</p>

<p>The nature of an exception is such that you do not and cannot know every time, when and where they will happen. Yes, you can - and should - catch common errors and handle them accordingly. But any unexpected errors are much harder to catch. So if your Promises swallow every one of these errors, you now have to write code to handle them. It now becomes almost like using <code>try/catch</code> all over the place, and if you find yourself doing that, then you&#39;re doing it wrong!</p>

<h2 id="the-options">The Options</h2>

<p><strong><a href="https://github.com/tildeio/rsvp.js">RSVP</a> makes things worse</strong>, because if you don&#39;t catch your Promise rejections, then any exceptions will be completely ignored. You will never know if an error occurred, and when or where it happened.</p>

<p><strong><a href="http://documentup.com/kriskowal/q/">Q</a> handles this a little better</strong> by not swallowing exceptions when you don&#39;t catch its rejections. But that means you now have to ensure that you catch rejections in <em>every</em> Promise, and handle them.</p>

<p><strong><a href="http://jquery.com/">jQuery</a> is even better still</strong>, because it does not swallow our exceptions.</p>

<h2 id="in-conclusion">In Conclusion</h2>

<p>So we ended up back with jQuery which lets <strong>us</strong> decide how to handle exceptions. Any exception in a Promise is handled exactly as you would expect, and raises it immediately. It does not swallow it up, leaving you to wander why the hell your code is not working.</p>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2013/08/the-problem-with-promises/" data-via="codiohq" data-size="small" data-count="none" data-text="The Problem with Promises">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2013/08/the-problem-with-promises/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2013/08/the-problem-with-promises/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

      <article>
        <section class="meta">
          <p class="date">
            <a href="/s/blog/2013/06/bug-fixed-in-50-minutes/">June 13, 2013</a>
            
              <span class="author">by <a href="mailto:jmoss@codio.com">Joel Moss</a></span>
            
            &nbsp;&nbsp;|&nbsp;&nbsp;
            <a class="dsq-comment-count" href="/s/blog/2013/06/bug-fixed-in-50-minutes/#disqus_thread">Comments</a>
          </p>
        </section>

        <h1><a href="/s/blog/2013/06/bug-fixed-in-50-minutes/">Bug reported, fixed and deployed in 50 minutes</a></h1>

        
        <p>I love how we develop and build software here at Codio. I want to explain quickly just one of the reasons why I love it so much, which also happens to have an immediate effect on you, our users.</p>

<p>On tuesday morning, our awesome QA team reported a bug related to forking projects. This bug was reported at 9:41am.</p>

<p>At 9:52am, one of our equally awesome engineers picked up the bug and began work on it.</p>

<p>At 10:10am is was fixed.</p>

<p>At 10:26am it was deployed and shipped to the world!</p>

<p>From the time it was known and reported, to the time it was deployed to production was only 50 minutes! That is only possible due to the continuous development and deployment processes that we have in place.</p>

<p>I&#39;ll try and talk about these processes in a future post. <a href="https://twitter.com/codiohq">Follow us</a> to find out what else we&#39;re up to.</p>


        <div class="blog-social clearfix">
          <div class="blog-twitter">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="https://codio.com/s/blog/2013/06/bug-fixed-in-50-minutes/" data-via="codiohq" data-size="small" data-count="none" data-text="Bug reported, fixed and deployed in 50 minutes">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>

          <div class="blog-gplus">
            <!-- Place this tag where you want the +1 button to render. -->
            <div class="g-plusone" data-size="medium" data-annotation="none" data="https://codio.com/s/blog/2013/06/bug-fixed-in-50-minutes/"></div>

            <!-- Place this tag after the last +1 button tag. -->
            <script type="text/javascript">
              (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
              })();
            </script>
          </div>

          <div class="blog-facebook">
            <div class="fb-like" data-send="false" data-href="https://codio.com/s/blog/2013/06/bug-fixed-in-50-minutes/" data-width="450" data-show-faces="false"></div>
          </div>
        </div>
      </article>

    

    
      <section class="pagination clearfix">
        
          <p><a href="/s/blog/tags/engineering/page/2/">&laquo; older posts</a></p>
        
        
      </section>
    
  </section>


  <aside>
    <section class="all-posts">
      <h5><a href="https://codio.com/s/blog/feed.xml" target="_blank"><img size="14x14" src="/s/img/feed-icon-fd8211de.png" />Subscribe</a></h5>
    </section>

    <section class="latest-posts">
      <h4>on this page...</h4>
      <ul>
        
          
          <li><a href="/s/blog/2014/02/codio-boxes-and-docker/">Codio Boxes + Docker</a></li>
        
          
          <li><a href="/s/blog/2013/11/snr/">Search and Replace with SnR</a></li>
        
          
          <li><a href="/s/blog/2013/09/latest-and-greatest-why-we-only-support-modern-browsers/">The Latest and Greatest - Why we only Support Modern Browsers</a></li>
        
          
          <li><a href="/s/blog/2013/09/improving-performance-tab-switching/">Improving Performance - Tab Switching</a></li>
        
          
          <li><a href="/s/blog/2013/08/the-problem-with-promises/">The Problem with Promises</a></li>
        
          
          <li><a href="/s/blog/2013/06/bug-fixed-in-50-minutes/">Bug reported, fixed and deployed in 50 minutes</a></li>
        
      </ul>

      
    </section>

    <div style="margin:35px 0 0 25px;">
      <a href="https://twitter.com/codiohq" class="twitter-follow-button" data-size="medium" data-show-count="false" data-lang="en">Follow us @codiohq</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>

    
      <section class="latest-posts">
        <ul>
          <li><strong><a href="/s/blog/all">All posts...</a></strong></li>
          
            <li><a href="/s/blog/tags/engineering/page/2/">&laquo; older posts</a></li>
          
          
        </ul>
      </section>
    

  </aside>
</div>


<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'codio'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script src="/s/js/vendor/rainbow-04950e23.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/linecount-d06678da.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/generic-b357dadf.js" type="text/javascript"></script>
<script src="/s/js/vendor/rainbow/javascript-0bbbe42e.js" type="text/javascript"></script><link href="/s/css/lib/rainbow/github-453e79e9.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/s/css/lib/rainbow/linecount-9a1155c4.css" media="screen" rel="stylesheet" type="text/css" />
      

    </div>

    <footer>
  <div class="container clearfix">
    <div>
      <ul id="social-icons">
        <li><a target="_blank" href="https://plus.google.com/u/0/b/107423236292333764300/107423236292333764300/posts"><span></span>Google+</a></li>
        <li><a target="_blank" href="https://www.facebook.com/pages/Codio/164778707006897?ref=hl"><span></span>Facebook</a></li>
        <li><a target="_blank" href="https://twitter.com/codiohq"><span></span>Twitter</a></li>
      </ul>
    </div>

    <div>
      Copyright &copy; 2014 Application Craft Ltd.
      &nbsp;&nbsp;
      <a href="http://status.codio.com/" target="_blank">System Status</a>&nbsp;&nbsp;|&nbsp;&nbsp;
      <a href="mailto:support@codio.com">Drop us a line...</a><br>
      All rights reserved. Read our <a href="/s/legal/privacy">Privacy policy</a> and other <a href="/s/legal">Legalese</a>.
    </div>

    <div>
      <a href="http://www.iloveopensource.io/orgs/523c6c7f861be70200000007" target="_blank">
        <img width="90" alt="Codio is powered by Open Source. Click here to find out more..." src="/s/img/ilos-logo-darkbg-6a3ca213.png" />
      </a>
    </div>
  </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/vendor/jquery.min-33074654.js"><\/script>')</script>
<script src="/s/js/main-364b929b.js" type="text/javascript"></script>


  </body>
</html>
