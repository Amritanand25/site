$(function(){var e=$("aside"),t=e.offset(),n=e.find("li"),r=n.find("a"),i=$("section"),s=e.height();t.left=$(".container",i.first()).offset().left,e.css({left:t.left}),$(window).on("scroll",function(){var o=$(document).scrollTop();o>=t.top&&!e.hasClass("fixed")?e.addClass("fixed"):o<=t.top&&e.removeClass("fixed");if(o<t.top)return;i.each(function(e,t){var i=$(t);i.data().frame||i.data({frame:{top:i.offset().top,bottom:i.offset().top+i.height()},link:r.filter('[href="#'+i.attr("id")+'"]')}),o+s/2>=i.data().frame.top&&o+s/2<=i.data().frame.bottom&&(n.removeClass("active"),i.data().link.closest("li").addClass("active"))})}),n.on("click",function(){n.removeClass("active"),$(this).addClass("active")})});