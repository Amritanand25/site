!function(){var e;e=function(){function e(){var e=this;$.ajax({url:"/s/js/doc_search/doc_search.json",dataType:"json",async:!1,success:function(t){return e.pages=t.pages}}),this.init_events()}return e.prototype.minimum_length=3,e.prototype.stop_words=["and","be","by","do","for","he","how","if","is","it","my","not","of","or","the","to","up","what","when"],e.prototype.stems=[{word:"e-mail",stem:"email"},{word:"javascript",stem:"script"},{word:"javascript",stem:"js"}],e.prototype.results=$("#search-content"),e.prototype.init_events=function(){var e=this;return $(".docs aside form").on("submit",function(){return e.perform_search($(".docs aside form input").val()),!1}),$("#search-content").on("click","a",function(){return expandTreeWithPath($(this).attr("href"))})},e.prototype.perform_search=function(e){var t,n,i,r,a,o,s,c,l,u,d,f,p,h,g,m,v,y,b,w,x,k,_=this;if(e=$.trim(e.toLowerCase()),e.length>=this.minimum_length){for(d=this.stemming(e),n=0,a=[],x=this.pages,p=0,v=x.length;v>p;p++){for(s=x[p],u=1e7,h=0,y=d.length;y>h;h++){for(e=d[h],c=new RegExp(e,"i"),-1!==s.t.search(c)&&(u-=2e3-n),k=s.b,g=0,b=k.length;b>g;g++)i=k[g],-1!==i.search(c)&&(u-=1e3-n);l=new RegExp("("+e+")","gi"),f=s.t.replace(l,"<em>$1</em>"),r=s.b.join("**").replace(l,"<em>$1</em>")}1e7>u&&(a[n++]=u+"^"+r+"^"+f+"^"+s.u)}if(1>n)this.results.html("<li><span>No results found. Please refine your search.</span></li>");else for(this.results.html(""),a.sort(),m=0,w=a.length;w>m;m++)o=a[m],o=o.split("^"),t=o[1].replace(/\*\*/g," > "),this.results.append("<li><a href='"+o[3]+"'>"+o[2]+"<small>"+t+"</small></a></li>")}else this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>");return $(":not(#search-content)").one("click",function(){return _.results.fadeOut()}),this.results.fadeIn()},e.prototype.stemming=function(e){var t,n,i,r,a,o,s,c;for(i=e.split(" "),t=r=0,s=i.length;s>=0?s>r:r>s;t=s>=0?++r:--r)for(c=this.stems,a=0,o=c.length;o>a;a++)n=c[a],i[t]===n.word&&(e=e+" "+n.stem);return e.split(" ")},e}(),$(function(){return new e})}.call(this);