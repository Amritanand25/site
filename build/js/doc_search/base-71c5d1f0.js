(function(){var e;e=function(){function e(){this.init_events()}return e.prototype.minimum_length=3,e.prototype.results=$("#search-content"),e.prototype.form=$(".docs aside form"),e.prototype.urlRegExp=new RegExp(/^.*\/\/[^\/]+/),e.prototype.init_events=function(){return this.form.on("submit",function(e){return function(){var t;return t=e.form.find("input"),t.data("val",t.val()),e.perform_search(t.val()),!1}}(this)),this.results.on("click","a",function(){return expandTreeWithPath($(this).attr("href"))}),this.form.find("input").keydown(function(e){return function(t){var i,a,n,l,r;if(a=e.form.find("input"),n=t.keyCode,l=e.results.find("li"),r=l.filter(".selected"),e.results.is(":visible")){if(13===n&&r.length){if(a.val()!==a.data("val"))return;t.preventDefault(),window.location.href=r.find("a").attr("href")}if(40===n||38===n)return t.preventDefault(),i=void 0,l.removeClass("selected"),40===n?i=!r.length||r.is(":last-child")?l.eq(0):r.next():38===n&&(i=!r.length||r.is(":first-child")?l.last():r.prev()),e.results.scrollTop(i[0].offsetTop),i.addClass("selected")}}}(this))},e.prototype.perform_search=function(e){return e=$.trim(e.toLowerCase()),e.length>=this.minimum_length?(this.results.html("<li><span>Loading...</span></li>"),$.ajax({url:"https://api.swiftype.com/api/v1/public/engines/search.json",data:{q:e,engine_key:"9ss2uGXz9XP6kyd6y6CN"},dataType:"jsonp"}).done(function(e){return function(t){var i,a,n,l,r,o,s;if(t.record_count<1)return e.results.html("<li><span>No results found. Please refine your search.</span></li>");for(e.results.html(""),o=t.records.page,s=[],l=0,r=o.length;r>l;l++)i=o[l],a=i.highlight.title?i.highlight.title:i.highlight.sections?""+i.title+"<small>"+i.highlight.sections+"</small>":""+i.title+"<small>"+i.highlight.body+"</small>",n=i.url.replace(e.urlRegExp,""),s.push(e.results.append("<li><a href='"+n+"'>"+a+"</a></li>"));return s}}(this))):this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>"),$(":not(#search-content)").one("click",function(e){return function(){return e.results.fadeOut()}}(this)),this.results.fadeIn()},e}(),$(function(){return new e})}).call(this);